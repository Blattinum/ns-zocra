<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zocra</title>

    <style>
      body {
        max-width: 50em !important;
      }

      .freedom-bar {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
      }

      .freedom-bar * {
        padding: 5px;
        background-color: #000;
        color: #fff;
        width: 100%;
        border: 5px outset #fff;
        text-align: center;
        justify-content: center;
        align-items: center;
      }

    </style>

    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css" type="text/css">



</head>
<body>
    
    <h1 class="nationFullName"></h1>

    <blockquote>
    <b><p>Founded: <span class="foundedTime"></span></p></b>
    </blockquote>

    <img class="flag" src=""></img>

    <hr>

    <div class="freedom-bar">
      <div class="civilRights">Civil Rights: </div>
      <div class="economy">Economy: </div>
      <div class="politicalFreedom">Political Freedom: </div>
    </div>

    <h2>the deets</h2>

    <ul>
      <li>Leader: <span class="leaderName"></span></li>
      <li>Capital City: <span class="capitalCity"></span></li>
      <li>Religion: <span class="religion"></span></li>
    </ul>

<hr>
    <footer>
      <code>Last seen: <span class="lastSeen"></span></code>
      <br><br>
      <p><a href="https://app.netlify.com/sites/quizzical-perlman-97b826/deploys"><img src="https://api.netlify.com/api/v1/badges/ced92e34-7df0-496b-add9-7cd5f5c708cb/deploy-status" alt="Netlify Status"></a></p>
    </footer>

<script>
    fetch("https://www.nationstates.net/cgi-bin/api.cgi?nation=zocra")
  .then(response => response.text())
  .then(data => {
    let parser = new DOMParser();
    let xml = parser.parseFromString(data, "application/xml");

    console.log(xml);
   // document.querySelector('.nationFullName').innerHTML = xml.documentElement.nodeName;
    document.querySelector('.nationFullName').innerHTML = xml.documentElement.childNodes[5].innerHTML;
    
    let foundedTime = xml.documentElement.childNodes[45].innerHTML;
    let utcSeconds = foundedTime;
    let fd = new Date(0); // The 0 there is the key, which sets the date to the epoch
    fd.setUTCSeconds(utcSeconds);
    
    document.querySelector('.foundedTime').innerHTML = fd;

    document.querySelector('.flag').src = xml.documentElement.childNodes[35].innerHTML;
    document.querySelector('.leaderName').innerHTML = xml.documentElement.childNodes[59].innerHTML;
    document.querySelector('.capitalCity').innerHTML = xml.documentElement.childNodes[61].innerHTML;
    document.querySelector('.religion').innerHTML = xml.documentElement.childNodes[63].innerHTML;

    let civilRights = xml.documentElement.childNodes[17].childNodes[1].innerHTML;
    let economy = xml.documentElement.childNodes[17].childNodes[3].innerHTML;
    let politicalFreedom = xml.documentElement.childNodes[17].childNodes[5].innerHTML;
    document.querySelector('.civilRights').insertAdjacentHTML('beforeend', civilRights);
    document.querySelector('.economy').insertAdjacentHTML('beforeend', economy);
    document.querySelector('.politicalFreedom').insertAdjacentHTML('beforeend', politicalFreedom);

    document.querySelector('.lastSeen').innerHTML = xml.documentElement.childNodes[49].innerHTML;
  })
  .catch(console.error);

</script>

</body>
</html>